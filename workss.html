<!DOCTYPE html>
<html lang='en'>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.6">
    <title>MARTA.MKV [WORKS]</title>

    <link rel="icon" href="assets/favicon.ico">
    <link rel="stylesheet" type="text/css" href="style.css">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-F9YHR26YNQ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-F9YHR26YNQ');
    </script>

    <style>
        /* Estilos base */
        .change {
            cursor: pointer;
        }

        /* Estilos del modo oscuro */
        .dark {
            background-color: #030303;
            color: #00e31a;
        }

        .dark.change {
            color: #00e31a
        }

        /* Estilos para todos los enlaces en modo oscuro (base) */
        .dark a {
            color: #00e31a;
            letter-spacing: -.3px;
        }

        .dark a:visited {
            color: #00e31a;
        }

        .dark a:hover {
            color: #00e31a;
        }

        .dark hr {
            border: none;
            height: 2px;
            background: linear-gradient(90deg, #00e31a, #00ff55, #00e31a);
            box-shadow: 0 0 8px #00e31a, 0 0 12px #00ff55, 0 0 16px #00e31a;
        }

        /* Estilos espec√≠ficos para styleone (manteniendo la excepci√≥n de color: black;) */
        .dark .styleone:link,
        .dark .styleone:visited {
            color: black;
            text-decoration: none;
            letter-spacing: -.3px;
        }

        .dark .styleone:hover {
            color: #00e31a;
            text-decoration: none;
        }

        /* Estilos espec√≠ficos para styletwo (manteniendo la excepci√≥n de color: black;) */
        .dark .styletwo:link,
        .dark .styletwo:visited {
            color: black;
            letter-spacing: -.3px;
        }

        .dark .styletwo:hover {
            color: #00e31a;
        }

        /* Estilos espec√≠ficos para stylethree (manteniendo la excepci√≥n de color: black;) */
        .dark .stylethree:link,
        .dark .stylethree:visited {
            color: black;
            text-decoration: none;
            letter-spacing: -.3px;
        }

        .dark .stylethree:hover {
            color: #00e31a;
            text-decoration: none;
        }

        /* Estilo de selecci√≥n */
        .dark ::selection {
            background: black;
            color: black;
            text-shadow: 1px 1px 1px black, 1px -1px 1px black, -1px 1px 1px black, -1px -1px 1px black;
        }

        /* Limpieza de clases redundantes */
        .dark.mode {
            color: #00e31a;
        }

        .dark button {
            border: none;
            color: #00e31a;
            text-decoration: none;
            cursor: default;
            background-color: rgba(0, 0, 0, 0.0);
            font-family: "serif";
            font-size: 11pt;
            display: block;
            padding: 0px;
            margin: 0;
            text-decoration: underline;
            letter-spacing: -.3px;
        }

        /* .dark .text - limpieza de propiedades duplicadas (width y margin-bottom) */
        .dark .text {
            margin: 0 0 9px 0;
            width: 800px;
            color: #00e31a;
            font-size: 11pt;
            font-family: "Times New Roman", Times, serif;
            letter-spacing: -.3px;
        }

        /* .dark .text2 - manteniendo como estaba para respetar la diferencia de color */
        .dark .text2 {
            margin: 0 0 9px 0;
            width: 800px;
            color: black;
            font-size: 11pt;
            font-family: "Times New Roman", Times, serif;
            letter-spacing: -.3px;
        }

        /* .dark .title - manteniendo como estaba para respetar la diferencia de width */
        .dark .title {
            margin: 0 0 9px 0;
            width: 700px;
            color: #00e31a;
            font-size: 11pt;
            font-family: "Times New Roman", Times, serif;
            letter-spacing: -.3px;
        }

        .dark #clock {
            position: fixed;
            color: #00e31a;
            bottom: 8px;
            right: 16px;
            font-size: 11pt;
            font-family: "Times New Roman", Times, serif;
            letter-spacing: -.3px;
        }

        /* Estilos movidos de inline */
        .logo-img {
            height: 1em;
            vertical-align: baseline;
        }

        .lava-lamp {
            display: none;
            position: fixed;
            top: 10px;
            right: 10px;
            width: 180px;
            z-index: -1;
        }

        .filter-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* Estilo para ocultar los bloques de video por defecto, si el filtro no es 'all' */
        .video-block {
            display: block; /* Por defecto visible, el JS lo ocultar√° si es necesario */
        }

        .video-block.hidden {
            display: none;
        }

        /* Estilo para los filtros activos */
        .filter-link.active {
            font-weight: bold;
            text-decoration: none !important;
        }

        /* Estilos para el video que ya no necesita lazy load, pero mantiene la clase */
        .lazy-video {
            display: block;
        }

        /* ============================================== */
        /* ESTILOS A√ëADIDOS PARA EL MENSAJE DE REPRODUCCI√ìN */
        /* ============================================== */
        .video-container {
            position: relative; /* Clave: necesario para posicionar el mensaje absoluto */
        }
        
        .play-message {
            position: absolute;
            top: 0;
            left: 0;
            width: 50%;
            height: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(0, 0, 0, 0); /* transparencia */
            color: #00e31a;
            font-size: 11pt;
            font-weight: regular;
            text-align: left;
            font-family: "Times New Roman", Times, serif;
            letter-spacing: -0.3px;
            pointer-events: none; /* Permite que el toque pase a la capa inferior si es necesario */
            opacity: 1; /* Visible por defecto */
            z-index: 10; /* Asegura que est√© sobre el video */
        }
        
        /* Estilo para ocultar el mensaje al interactuar */
        .play-message.hidden {
            opacity: 0;
            /* Se puede a√±adir display: none; despu√©s de la transici√≥n si es necesario, pero opacity: 0 ya lo hace invisible */
        }

    </style>

</head>

<body onload="startTime()">
    <div id="content">
        <div class="container">
            <div class="text">
                <a href="#" class="styleone" id="lavalamp">*</a>
                <br>
                <img src="assets/AE-logo-old.png" alt="AE Logo" class="logo-img"> My name is Marta, and I'm a Postproduction Artist at
                <a href="https://www.canadacanada.com/" target="_blank">CANADA</a>, a production company based in
                <a href="https://maps.app.goo.gl/8Jax9VNqDX4G4gpo7" target="_blank">Barcelona</a>; Specializing in digital and analog workflows. Focused on motion graphics, animation,
                clean plates, rotoscoping, beauty VFX, 2D compositing, chroma keying, Artificial Intelligence imagery, sky/screen integration, set extension, wire removal,
                offline/online editing, and social media adaptations. Skilled in Adobe Premiere and postproduction pipelines.
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <div class="text filter-options">
                    <div><a href='index' style="text-decoration:underline;">Back</a></div>
                    <div id="filters">
                        <a href="#" class="filter-link active" data-type="all" style="text-decoration:underline;">All</a>  |  
                        <a href="#" class="filter-link" data-type="music" style="text-decoration:underline;">Music Video</a>  |  
                        <a href="#" class="filter-link" data-type="commercial" style="text-decoration:underline;">Commercial</a>  |  
                        <a href="#" class="filter-link" data-type="film" style="text-decoration:underline;">Film</a>
                    </div>
                </div>

                <img id="lava" src="assets/lavalamp.gif" class="lava-lamp" alt="L√°mpara de lava animada">

            </div>

            ''<HR>
            <div class="video-block music">
                <div class="text">ROSAL√çA - Berghain <i>(Music Video)</i><br> 3 mins 30 seconds, 3840x2160</div>
                <div class="text">Directed by Nicol√°s M√©ndez<br></div>
                <div class="video-container">
                    <video class="lazy-video" loop muted playsinline preload="auto" width="382" height="680" src="https://attachments.are.na/40414332/a525ddb0153a29d59c2ae26b2ec562a8.mp4?1760797870"></video>
                    <span class="play-message">tap to play (À∂‚ó°‚Äø‚ó°)(¬¥‚ù•`)‚Çä‚ô™ùÑûùÑ¢‡Ωê‡Ω≤‚ãÜ‚ô±</span> <div class="text"><a href="https://youtu.be/y51P8HNpwaM?si=wplt-Xjci438Zolv&t=28" target="_blank">[watch]</a><br> </div>
                </div>
            </div>''

         
    
    <script>
        // Funci√≥n del reloj (SIN CAMBIOS)
        function checkTime(i) {
            if (i < 10) {i = "0" + i};
            return i;
        }

        function startTime() {
            const today = new Date();
            let h = today.getHours();
            let m = today.getMinutes();
            let s = today.getSeconds();
            m = checkTime(m);
            s = checkTime(s);
            document.getElementById('clock').innerHTML = h + ":" + m + ":" + s;
            const t = setTimeout(startTime, 500);
        }

        // Script del modo oscuro (SIN CAMBIOS)
        document.getElementById('lavalamp').addEventListener('click', function(e) {
            e.preventDefault();

            let lava = document.getElementById('lava');
            let isDark = document.body.classList.contains("dark");

            if (isDark) {
                document.body.classList.remove("dark");
                lava.style.display = "none";
            } else {
                document.body.classList.add("dark");
                lava.style.display = "block";
            }
        });

        // ==============================================
        // L√ìGICA DE FILTROS Y HOVER/TOUCH-TO-PLAY (ACTUALIZADA)
        // ==============================================

        document.addEventListener('DOMContentLoaded', function() {
            const filterLinks = document.querySelectorAll('.filter-link');
            const videoBlocks = document.querySelectorAll('.video-block');
            // Obtener todos los videos para control
            const videosToControl = document.querySelectorAll('.lazy-video'); 

            // L√≥gica de los filtros (SIN CAMBIOS)
            filterLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const filterType = this.getAttribute('data-type');
                    
                    filterLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    videoBlocks.forEach(block => {
                        if (filterType === 'all' || block.classList.contains(filterType)) {
                            block.classList.remove('hidden');
                        } else {
                            block.classList.add('hidden');
                        }
                    });
                });
            });
            
            // Funciones helper para manejo de reproducci√≥n (SIN CAMBIOS)
            const playVideo = (videoElement) => {
                videoElement.play().catch(e => {
                    // console.log("Error al intentar reproducir:", e); 
                });
            };

            const pauseVideo = (videoElement) => {
                videoElement.pause();
            };
            
            // Funci√≥n A√ëADIDA: Oculta el mensaje "tap to play"
            const hidePlayMessage = (videoElement) => {
                // El mensaje se encuentra como hermano del video, dentro de .video-container
                const message = videoElement.parentNode.querySelector('.play-message');
                if (message) {
                    message.classList.add('hidden');
                }
            };

            // Funci√≥n para forzar la visualizaci√≥n del primer fotograma en m√≥vil (MODIFICADA para ocultar mensaje)
            const displayFirstFrame = (videoElement) => {
                if (videoElement.readyState >= 2) { // readyState 2: Enough data to play current frame
                     // Intenta forzar la reproducci√≥n para cargar el fotograma
                    videoElement.play().then(() => {
                         // Si la reproducci√≥n inicia, pausarla inmediatamente
                        videoElement.pause();
                        hidePlayMessage(videoElement); // Ocultar si el fotograma carga
                    }).catch(e => {
                        // Si falla el autoplay, se mantiene el mensaje visible para el toque.
                        // console.log("Bloqueo de Autoplay al intentar cargar fotograma:", e);
                    });
                }
            };

            // 1. Asignar eventos de interacci√≥n y forzar la carga
            videosToControl.forEach(video => {
                
                // Asegura que el video se muestre al cargar los datos
                video.addEventListener('loadeddata', function() {
                    displayFirstFrame(this);
                });

                // Si el video ya est√° cargado cuando se ejecuta el script (navegadores de escritorio)
                if (video.readyState >= 2) {
                    displayFirstFrame(video);
                }

                // Eventos de ESCRITORIO (Hover)
                video.addEventListener('mouseover', function() {
                    playVideo(this);
                    hidePlayMessage(this); // Ocultar mensaje al hacer hover
                });

                video.addEventListener('mouseout', function() {
                    pauseVideo(this);
                });
                
                // Eventos de M√ìVIL (tap to play, levantar para pausar)
                video.addEventListener('touchstart', function() {
                    playVideo(this);
                    hidePlayMessage(this); // CLAVE: Ocultar el mensaje en el primer toque
                });

                video.addEventListener('touchend', function() {
                    pauseVideo(this);
                });

                video.addEventListener('touchcancel', function() {
                    pauseVideo(this);
                });
            });
        });
    </script>

</html>
