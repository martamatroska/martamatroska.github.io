<!DOCTYPE html>
<html lang='en'>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.6">
    <meta name="description" content="Marta Castillo Ferrero - Postproduction Artist - VFX - CANADA Barcelona - Portfolio"> 
    <link rel="icon" href="assets/favicon.ico">
    <title>MARTA.MKV</title> 
<!-- opengraph.xyz -->
 <meta property="og:title" content="MARTA.MKV">
 <meta property="og:description" content="Marta Castillo Ferrero - Postproduction Artist - VFX - CANADA Barcelona - Portfolio">
 <meta property="og:image" content="assets/favicon.ico">

     <link rel="stylesheet" type="text/css" href="style.css">


    <style>
        body {
            overflow: hidden;
            background-size: cover;
            background-repeat: no-repeat;
        }

        span.star {
            cursor: pointer;
            font-size: 2rem;
            user-select: none;
        }

        /* estilos */
        .logo-img {
            height: 1em;
            vertical-align: baseline;
        }

        .wavy-underline {
            text-decoration-style: wavy;
        }

        #btn {
            text-decoration: underline;
            cursor: pointer;
        }

        #desktop {
            text-decoration: none;
        }

    
    </style>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-F9YHR26YNQ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-F9YHR26YNQ');
    </script>

</head>

<body onload="startTime()">
    <div id="content">
        <div class="container">
            <div class="text">
                <a href="#" class="styleone" id="egg">*</a>
                <div id="info"></div>
                <br>
                <img src="assets/AE-logo-old.png" alt="AE Logo" class="logo-img"> My name is Marta, and I'm a Postproduction Artist at
                <a href="https://www.canadacanada.com/" target="_blank" id="click_external_canada">CANADA</a>, a production company based in
                <a href="https://maps.app.goo.gl/8Jax9VNqDX4G4gpo7" target="_blank">Barcelona</a>;
                <br>
                ìá¢ìá¢ ìá¢ìá¢ ìá¢ìá¢ìá¢ìá¢ ìá¢ feel free to <u class="wavy-underline">explore.</u>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <a href="works" id="click_work_page">Work</a>
                <br>
                <div id="btn">Contact ‚Üí</div>
                <br>
                <br>
                <br>
                <br>
                <a href="woym.html" id="desktop">only for desktop (now works for phone too)</a>
                <br>
                <br>
                <br>
                <br>
                <br>
                <div id="websites">Sometimes I design websites:</div> <!-- like this one <a href="https://angelacastilloferrero.github.io/" target="_blank">‡±®‡ßé</a> and this one <a href="https://toro-bravo.github.io/" target="_blank">‚òÜ</a></div>-->
                <ul class="wavy-underline">
                    <li><a href="https://angelacastilloferrero.github.io/" target="_blank">‡±®‡ßé</a> <small>(jewelry designer portfolio)</small></li>
                    <li><a href="https://toro-bravo.github.io/" target="_blank">‚òÜ</a> <small>(film director www)</small></li>
                <br>
                <br>
                <br>
                <br>
                <br>
                <a href="#" class="styleone" id="showBg">ìÜè</a>
                <br>
                <div class="watermark"><i style="color:#00e31a">designed by myself, with html/css/js ‚úçÔ∏éÔ∏é</i></div>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <div id="star-wrapper">
                    <a href="#" class="styleone" id="star">*</a>
                    <span id="counter" style="display:none;">0</span>
                </div>
                <br>
                <br>
                <br>
                <br>
                <br>
                <a href="#" class="styleone" id="tabloid">*</a>
            </div>
            <div id="clock"></div>
        </div>
    </div>


    <script>
        // reloj
        function checkTime(i) {
            if (i < 10) {i = "0" + i;}
            return i;
        }

        function startTime() {
            let today = new Date();
            let h = today.getHours();
            let m = today.getMinutes();
            let s = today.getSeconds();
            m = checkTime(m);
            s = checkTime(s);
            document.getElementById('clock').innerHTML = h + ":" + m + ":" + s;
            const t = setTimeout(startTime, 500);
        }

        document.addEventListener('DOMContentLoaded', () => {
            // bot√≥n Contacto
            const btn = document.getElementById('btn');
            const originalText = btn.textContent;

            btn.addEventListener('click', function handleClick() {
                // Alternar texto
                if (btn.textContent === originalText) {
                    btn.textContent = 'Contact ‚Üí marta.castillo(at)canadacanada(dot)com // casfemarta(at)gmail(dot)com';
                } else {
                    btn.textContent = originalText;
                }

                // Seguimiento GA4: Bot√≥n Contact (Ya exist√≠a)
                gtag('event', 'click', {
                    'event_category': 'interacci√≥n',
                    'event_label': 'Bot√≥n Contact'
                });
            });

            // --- Seguimiento de Nuevos Eventos GA4 ---

            // 1. click_work_page
            document.getElementById('click_work_page').addEventListener('click', function() {
                gtag('event', 'click_work_page');
                // No hay necesidad de e.preventDefault() aqu√≠, queremos que el enlace funcione
            });

            // 2. click_external_canada
            document.getElementById('click_external_canada').addEventListener('click', function() {
                gtag('event', 'click_external_canada', {
                    'link_url': this.href // Captura la URL del enlace
                });
                // No hay necesidad de e.preventDefault() aqu√≠, queremos que el enlace funcione
            });

            // 3. tabloid_background_switch
document.getElementById('tabloid').addEventListener('click', function(e) {
    e.preventDefault();

    // Comprueba si el fondo ya est√° activo para permitir alternar (opcional)
    if (document.body.classList.contains('tabloid-bg')) {
        document.body.classList.remove('tabloid-bg');
    } else {
        // A√±ade la clase que aplica el fondo de pantalla completa
        document.body.classList.add('tabloid-bg');
    }

    // Seguimiento GA4: Cambio de Fondo Tabloide
    gtag('event', 'tabloid_background_switch');
});

            // 4. egginfo_view (Clic en el primer asterisco para mostrar IP/Info)
            document.getElementById('egg').addEventListener('click', async (e) => {
                const infoBox = document.getElementById('info');
                // La l√≥gica de alternar la visibilidad de la caja de informaci√≥n ya existe

                if (infoBox.style.display !== "block") {
                    // Si el estado es "oculto" o inicial, se mostrar√°, as√≠ que es el momento de enviar el evento.
                    // Si ya est√° visible y se va a ocultar, no enviamos el evento.
                    gtag('event', 'egginfo_view');
                }
                
                // L√≥gica de mostrar la IP
                if (infoBox.style.display === "block") {
                    infoBox.style.display = "none";
                    return;
                }

                const ip = await getIP();
                const ua = navigator.userAgent;
                const lang = navigator.language;
                const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;

                infoBox.textContent =
                    `IP Address: ${ip}\n` +
                    `Browser / OS: ${ua}\n` +
                    `Language: ${lang}\n` +
                    `Time Zone: ${tz}`;

                infoBox.style.display = "block";
            });

        }); // Fin DOMContentLoaded

        // Script estrella (star_click_counter)
        let count = 0;
        const counter = document.getElementById("counter");
        let recordTarget = getRandomTarget();

        const messages = [
            "what if",
            "we all",
            "quit our jobs and",
            "just",
            "hang out"
        ];

        let currentMessageIndex = 0;

        function getRandomTarget() {
            return Math.floor(Math.random() * 10) + 5;
        }

        document.getElementById("star").addEventListener("click", function(e) {
            e.preventDefault();
            count++;
            counter.textContent = count;
            counter.style.display = "inline";

            // Seguimiento GA4: Contador de Estrellas (star_click_counter)
            gtag('event', 'star_click_counter', {
                'star_count': count // Env√≠a el n√∫mero de clics como par√°metro
            });

            if (count === recordTarget && currentMessageIndex < messages.length) {
                alert(messages[currentMessageIndex]);
                currentMessageIndex++;
                recordTarget = count + getRandomTarget();
            }
        });

        // Script (Rana) - frog_easter_egg
        let frogClickCount = 0;
        const showBg = document.getElementById('showBg');
        const fotos = [
            'assets/foto01.png',
            'assets/foto02.png',
            'assets/foto03.png',
            'assets/foto04.png'
        ];

        const textos = [
            "Born: Granada\n \n(data loaded 13%)",
            "Born: Granada\nRaised: Valencia\n \n(data loaded 41%)",
            "Born: Granada\nRaised: Valencia\nBased: Barcelona\n \n(data loaded 75%)",
            "Born: Granada\nRaised: Valencia\nBased: Barcelona\n \nI enjoy geeky stuff, quiet environments, people (in small doses), animals (in all doses),\nbooks, <2h movies, >2h playlists,\nnature, and watching the world like it‚Äôs a documentary.\nI studied oceanography, now I tweak pixels as a VFX artist.\nEternally learning.\n \n(data loaded 100%)"
        ];

        // about text
        const textoDiv = document.createElement('div');
        textoDiv.style.position = 'fixed';
        textoDiv.style.top = '80%';
        textoDiv.style.left = '50%';
        textoDiv.style.transform = 'translate(-50%, -50%)';
        textoDiv.style.color = 'black';
        textoDiv.style.fontFamily = '"Times New Roman", Times, serif';
        textoDiv.style.fontSize = '11pt';
        textoDiv.style.maxWidth = '80%';
        textoDiv.style.wordWrap = 'break-word';
        textoDiv.style.textAlign = 'center';
        textoDiv.style.whiteSpace = 'pre-line';
        document.body.appendChild(textoDiv);

        showBg.addEventListener('click', function(e) {
            e.preventDefault();

            // Seguimiento GA4: Easter Egg de la Rana (frog_easter_egg)
            // Se env√≠a antes de incrementar la cuenta para enviar el clic actual (0-3)
            gtag('event', 'frog_easter_egg', {
                'frog_click_num': frogClickCount + 1 // Env√≠a el n√∫mero de clic actual (1-4)
            });

            // Change bg
            document.body.style.backgroundImage = `url('${fotos[frogClickCount]}')`;
            document.body.style.backgroundSize = 'cover';
            document.body.style.backgroundPosition = 'center';

            // random position frog
            const randomBottom = Math.floor(Math.random() * (window.innerHeight - showBg.offsetHeight));
            const randomLeft = Math.floor(Math.random() * (window.innerWidth - showBg.offsetWidth));
            showBg.style.position = "absolute";
            showBg.style.bottom = `${randomBottom}px`;
            showBg.style.left = `${randomLeft}px`;

            textoDiv.textContent = textos[frogClickCount];


            frogClickCount = (frogClickCount + 1) % fotos.length;
        });

        // Script (IP/Info) - Funci√≥n getIP separada para ser utilizada por el manejador de eventos
        async function getIP() {
            try {
                const res = await fetch('https://api.ipify.org?format=json');
                const data = await res.json();
                return data.ip;
            } catch {
                return 'Unavailable';
            }
        }
    </script>


</body>
</html>
